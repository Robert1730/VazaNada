<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora VazaNada</title>
</head>

<body>
    <h1>Bem vindo!</h1>

    <h2>Preencha os campos abaixo para estimar sua economia utilizando a soluÃ§Ã£o da VZND:</h2>

    Quantos vazamentos vocÃª teve nos ultimos 12 meses em gasodutos?<br>
    <input type="number" id="ipt_qtdVazamentos"> <br> <br>

    Qual foi a maior quantidade de gÃ¡s que vocÃª jÃ¡ perdeu em uma hora de vazamento? (Em mÂ³/h)<br>
    <input type="number" id="ipt_maiorVazamento"> <br> <br>

    Qual foi a menor quantidade de gÃ¡s que vocÃª jÃ¡ perdeu em uma hora de vazamento? (Em mÂ³/h)<br>
    <input type="number" id="ipt_menorVazamento"> <br> <br>

    Qual foi o maior tempo de contenÃ§Ã£o de um vazamento? (Em minutos)<br>
    <input type="number" id="ipt_maiorTempo"> <br> <br>

    Qual foi o menor tempo de contenÃ§Ã£o de um vazamento? (Em minutos)<br>
    <input type="number" id="ipt_menorTempo"> <br> <br>

    <button onclick="calcular()">Calcular</button>

    <br>
    <br>

    <div id="div_mensagem"></div>
</body>

</html>

<script>
    function calcular() {
        var qtdVazamentos = Number(ipt_qtdVazamentos.value);
        var maiorVazamento = Number(ipt_maiorVazamento.value);
        var menorVazamento = Number(ipt_menorVazamento.value);
        var maiorTempo = Number(ipt_maiorTempo.value) / 60; // ConversÃ£o de min para horas
        var menorTempo = Number(ipt_menorTempo.value) / 60; // ConversÃ£o de min para horas



        if (qtdVazamentos == 0 || maiorVazamento == 0 || menorVazamento == 0 || maiorTempo == 0 || menorTempo == 0) {
            alert("Preencha todos os campos!");
        } else if (qtdVazamentos < 0 || maiorVazamento < 0 || menorVazamento < 0 || maiorTempo < 0 || menorTempo < 0) {
            alert("Os valores nÃ£o podem ser negativos!");
        } else if (maiorVazamento < menorVazamento) {
            alert("O maior vazamento nÃ£o pode ser menor que o menor vazamento!");
        } else if (maiorTempo < menorTempo) {
            alert("O menor tempo nÃ£o pode ser maior que o maior tempo!");
        
        } else {

            var custoGasMCubico = 0.86;

            // MÃ©dia de quantidade de gÃ¡s vazado por hora em um vazamento
            var mediaQuantidadeVazadoPorHora = (maiorVazamento + menorVazamento) / 2;
            // MÃ©dia de tempo para conter um vazamento em horas
            var mediaTempo = (maiorTempo + menorTempo) / 2;

            // MÃ©dia de perda por vazamento em mÂ³
            var mediaDePerdaPorVazamento = mediaQuantidadeVazadoPorHora * mediaTempo;
            // MÃ©dia de custo por vazamento
            var mediaDeCustoPorVazamento = mediaDePerdaPorVazamento * custoGasMCubico;

            // MÃ©dias de perda por vazamento em mÂ³ por ano e mes
            var mediaAnual = mediaDePerdaPorVazamento * qtdVazamentos;
            var mediaMensal = mediaAnual / 12;

            // MÃ©dias de custo por vazamento por ano e mes
            var mediaCustoAnual = mediaDeCustoPorVazamento * qtdVazamentos;
            var mediaCustoMensal = mediaCustoAnual / 12;


            /**
             * A soluÃ§Ã£o da VZND reduz o tempo para conter vazamentos em atÃ© 90%
             * 
             * Os valores a baixo sÃ£o baseados na reduÃ§Ã£o de 90% do tempo de contenÃ§Ã£o de vazamentos
             * 
             * O custo de um vazamento passaria a ser de 10% do valor atual
             * 
             */


            // Medias de tempo para contenÃ§Ã£o com desconto de 90% por vazamento
            var mediaTempoDesconto = mediaTempo * 0.1;

            var mediaDePerdaPorVazamentoDesconto = mediaQuantidadeVazadoPorHora * mediaTempoDesconto;
            var mediaCustoPorVazamentoDesconto = mediaDePerdaPorVazamentoDesconto * custoGasMCubico;

            var mediaCustoAnualDesconto = mediaCustoPorVazamentoDesconto * qtdVazamentos;
            var mediaCustoMensalDesconto = mediaCustoAnualDesconto / 12;


            div_mensagem.innerHTML = `
                    <b>VocÃª perdeu aproximadamente:</b> 
                    <ul>
                        <li>ğŸ’¸ ${mediaCustoAnual.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })} nos Ãºltimos 12 meses.</li>
                        <li>ğŸ“… Uma mÃ©dia mensal de ${mediaCustoMensal.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })}</li>
                        <li>ğŸ”„ Perdendo aproximadamente ${mediaAnual.toFixed(2)} mÂ³ de gÃ¡s por ano</li>
                        <li>ğŸ“‰ Perdendo aproximadamente ${mediaMensal.toFixed(2)} mÂ³ de gÃ¡s por mÃªs</li>
                    </ul>
                    
                    <b>Com a soluÃ§Ã£o da VZ<span style="color: #5CE1E6">ND</span>, vocÃª poderia:</b>
                    <ul>
                        <li>â±ï¸ Reduzir o tempo para conter vazamentos em atÃ© 90%</li>
                        <li>â³ A mÃ©dia de tempo atual que vocÃª leva para conter um vazamento Ã© de ${(mediaTempo * 60).toFixed(0)} minutos</li>
                        <li>âš¡ VocÃª passaria a detectar um vazamento em atÃ© ${(mediaTempoDesconto * 60).toFixed(0)} minutos</li>
                        <li>ğŸ’° Seu custo que antes era de ${mediaDeCustoPorVazamento.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })} por vazamento, passaria a ser de ${mediaCustoPorVazamentoDesconto.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })} por vazamento</li>
                    </ul>
                    
                    <b>Economia:</b>
                    <ul>
                        <li>ğŸ’µ Com a soluÃ§Ã£o da VZ<span style="color: #5CE1E6">ND</span>, vocÃª poderia <b style="color: green">economizar</b> aproximadamente ${(mediaDeCustoPorVazamento - mediaCustoPorVazamentoDesconto).toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })} <b>por vazamento</b></li>
                        <li>ğŸ’µ Com a soluÃ§Ã£o da VZ<span style="color: #5CE1E6">ND</span>, vocÃª poderia <b style="color: green">economizar</b> aproximadamente ${(mediaCustoMensal - mediaCustoMensalDesconto).toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })} <b>por mÃªs</b></li>
                        <li>ğŸ’µ Com a soluÃ§Ã£o da VZ<span style="color: #5CE1E6">ND</span>, vocÃª poderia <b style="color: green">economizar</b> aproximadamente ${(mediaCustoAnual - mediaCustoAnualDesconto).toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' })} <b>por ano</b></li>
                    </ul>
            `;

        }

    }
</script>